I"E(function() {
  $.fn.uploadPhoto = function() {
    return $(this).fileupload({
      dataType: "script",
      singleFileUploads: true,
      dropZone: $(this).find('.photo-field'),
      maxNumberOfFiles: 1,
      add: function(e, data) {
        var file, types;
        types = /(\.|\/)(gif|jpe?g|png)$/i;
        file = data.files[0];
        if (types.test(file.type) || types.test(file.name)) {
          NProgress.start();
          $(this).find('.customfile').addClass('loading');
          return data.submit();
        } else {
          return alert(file.name + " is geen gif-, jpeg- of png-bestand");
        }
      },
      progress: function(e, data) {
        if (data.context) {
          return NProgress.set(data.loaded / data.total);
        }
      },
      done: function(e, data) {
        $(this).find('.customfile').removeClass('loading');
        return NProgress.done();
      }
    });
  };

  $.fn.uploadDocument = function() {
    return $(this).fileupload({
      dataType: "script",
      singleFileUploads: true,
      dropZone: $(this).find('.attachment-field'),
      maxNumberOfFiles: 1,
      add: function(e, data) {
        var file, types;
        types = /(\.|\/)(pdf|docx?|rtf|txt)$/i;
        file = data.files[0];
        if (types.test(file.type) || types.test(file.name)) {
          NProgress.start();
          $(this).find('.customfile').addClass('loading');
          return data.submit();
        } else {
          return alert(file.name + " is geen pdf-, word-, txt- of rtf-bestand");
        }
      },
      progress: function(e, data) {
        if (data.context) {
          return NProgress.set(data.loaded / data.total);
        }
      },
      done: function(e, data) {
        $(this).find('.customfile').removeClass('loading');
        return NProgress.done();
      }
    });
  };

}).call(this);
:ET